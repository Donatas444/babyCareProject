<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Baby care project</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">

    <!--additional-->
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">

    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <link rel="stylesheet" type="text/css" href="/styles.css">


</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">Home</a>
        </div>
    </div>
</nav>




<div class="justify-content-center">

    <div class="container">
        <h1 class="mb-5">Your baby's controller page</h1>
        <div class="row">
            <!--  <div class="col-12 col-sm-8 col-md-6 col-lg-4"> -->
            <div class="card">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" id="bologna-list" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" href="#description" role="tab" aria-controls="description"
                               aria-selected="true">Feeding</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#history" role="tab" aria-controls="history"
                               aria-selected="false">Diapers</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#deals" role="tab" aria-controls="deals" aria-selected="false">Deals</a>
                        </li>
                    </ul>
                </div>


                <div class="card-body">
                    <h4 class="card-title"><label th:text="${baby.name} + ' care:'"></label></h4>
                    <h6 class="card-subtitle mb-2">Do not ferget to save values after you enter them.</h6>

                    <div class="tab-content mt-3">
                        <div class="tab-pane active" id="description" role="tabpanel">
                            <form id="form3" action="#" th:action="@{//addfoodtype}" th:object="${foodType}"
                                  method="post">
                                <div class="input-group mb-3">

                                    <select id="purpose" class="custom-select">
                                        <option selected>Choose feeding type...</option>

                                        <option value="2">Breast feeding</option>
                                        <option value="1">Formula</option>

                                    </select>
                                    <script>


                                    </script>
                                </div>
                            </form>
                            <form id="form1" action="#" th:action="@{/addfeeding}" th:object="${feeding}" method="post">


                                <h5 class="card-title">Feeding</h5>
                                <p class="card-text">Here you can choose your baby's feeding type and enter the values:
                                    milliliters
                                    for formula, or duration for breast feeding.</p>
                                <input type="hidden" name="feedingDate" id="feedingDate"
                                       th:value="${#dates.format(#dates.createNow() , 'yyyy-MM-dd')}"/>
                                <input type="hidden" name="babyId" id="babyId" th:value="${baby.id}"/>


                                <div style='display:none;' id="business">
                                    Enter feeded amount in ml<br/>&nbsp;
                                    <br/>&nbsp;
                                    <input type="text" placeholder="Enter amount in ml if formula is feeded."
                                           name="feedingAmount" th:value="${feedingAmount}"/>
                                    <br/>
                                </div>

                                <div style='display:none;' id="business_new">
                                    <div>
                                        <label class="field">Start time:</label>
                                        <input name="feedingTime" type="time" id="start"
                                               th:value="${#dates.format(#dates.createNow() , 'HH:mm')}">
                                    </div>
                                    <div>
                                        <label class="field">Stop time:</label>
                                        <input type="time" id="end"
                                               th:value="${#dates.format(#dates.createNow() , 'HH:mm')}"></input>
                                    </div>
                                </div>

                                <input type="hidden" name="feedingPeriod" id="diff"/>
                                <div class="row">
                                    <div class="col-md-6 mt-5">
                                        <input type="submit" class="btn btn-warning btn-lg" value="Save entry">
                                    </div>


                                </div>
                            </form>
                        </div>

                        <div class="tab-pane" id="history" role="tabpanel" aria-labelledby="history-tab">
                            <form id="diapersForm" action="#" th:action="@{/adddiaper}" th:object="${diapers}"
                                  method="post">
                                <h5 class="card-title">Diapers</h5>
                                <p class="card-text">Mark checkbox if your baby's diapers was changed.</p>

                                <div>
                                    <input type="checkbox" id="chbox" required>
                                </div>
                                <div class="col-md-6 mt-5">
                                    <input type="submit" class="btn btn-warning btn-lg" value="Save entry">
                                </div>
                                <div>

                                </div>

                                <input type="hidden" name="dateDiapersChanged" id="dateDiapersChanged"
                                       th:value="${#dates.format(#dates.createNow() , 'yyyy-MM-dd')}"/>

                                <input type="hidden" name="timeDiapersChanged" id="timeDiapersChanged"
                                       th:value="${#dates.format(#dates.createNow() , 'HH:mm')}"/>
                                <input type="hidden" name="babyId" th:value="${baby.id}"/>


                            </form>
                        </div>

                        <div class="tab-pane" id="deals" role="tabpanel" aria-labelledby="deals-tab">
                            <p class="card-text">Immerse yourself in the colours, aromas and traditions of
                                Emilia-Romagna with a holiday in Bologna, and discover the city's rich artistic
                                heritage.</p>
                            <a href="#" class="btn btn-danger btn-sm">Get Deals</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


                <!--         <form id="form3" action="#" th:action="@{//addfoodtype}" th:object="${foodType}" method="post">
                             <div class="input-group mb-3">

                                 <select id="purpose" class="custom-select">
                                     <option selected>Choose...</option>

                                     <option value="2">Breast feeding</option>
                                     <option value="1">Formula</option>

                                 </select>
                                 <script>


                                 </script>
                             </div>
                         </form>
                         <form id="form1" action="#" th:action="@{/addfeeding}" th:object="${feeding}" method="post">


                             <h5 class="card-title">Feeding</h5>
                             <p class="card-text">Here you can choose your baby's feeding type and enter the values: milliliters
                                 for formula, or duration for breast feeding.</p>
                             <input type="hidden" name="feedingDate" id="feedingDate"
                                    th:value="${#dates.format(#dates.createNow() , 'yyyy-MM-dd')}"/>
                             <input type="hidden" name="babyId" id="babyId" th:value="${baby.id}"/>


                             <div style='display:none;' id="business">
                                 Enter feeded amount in ml<br/>&nbsp;
                                 <br/>&nbsp;
                                 <input type="text" placeholder="Enter amount in ml if formula is feeded."
                                        name="feedingAmount" th:value="${feedingAmount}"/>
                                 <br/>
                             </div>

                             <div style='display:none;' id="business_new">
                                 <div>
                                     <label class="field">Start time:</label>
                                     <input name="feedingTime" type="time" id="start"
                                            th:value="${#dates.format(#dates.createNow() , 'HH:mm')}">
                                 </div>
                                 <div>
                                     <label class="field">Stop time:</label>
                                     <input type="time" id="end"
                                            th:value="${#dates.format(#dates.createNow() , 'HH:mm')}"></input>
                                 </div>
                             </div>

                             <input type="hidden" name="feedingPeriod" id="diff"/>
                             <div class="row">
                                 <div class="col-md-6 mt-5">
                                     <input type="submit" class="btn btn-warning btn-lg" value="Save entry">
                                 </div>


                             </div>
                         </form>   -->
            </div>
        </div>
    </div>


    <!--  <div class="col-sm-6">
           <div class="card">
               <div class="card-body">

                   <form id="diapersForm" action="#" th:action="@{/adddiaper}" th:object="${diapers}" method="post">
                       <h5 class="card-title">Diapers</h5>
                       <p class="card-text">Here you can mark checkbox if your baby diapers was changed.</p>

                       <div>
                           <input type="checkbox" id="chbox" required>
                       </div>
                       <div class="col-md-6 mt-5">
                           <input type="submit" class="btn btn-warning btn-lg" value="Save entry">
                       </div>
                       <div>

                       </div>

                       <input type="hidden" name="dateDiapersChanged" id="dateDiapersChanged"
                              th:value="${#dates.format(#dates.createNow() , 'yyyy-MM-dd')}"/>

                       <input type="hidden" name="timeDiapersChanged" id="timeDiapersChanged"
                              th:value="${#dates.format(#dates.createNow() , 'HH:mm')}"/>
                       <input type="hidden" name="babyId" th:value="${baby.id}"/>


                   </form>
               </div>
           </div>
       </div>
       </div>
       </div> -->


    <div class="container">
        <div class="page-header">
            <h2>Baby info</h2>
        </div>
        <table class="table table-striped table-bordered">
            <tr>
                <th>Name</th>
                <th>Date</th>
            </tr>

            <tr>
                <td th:text="${baby.name}">Name
                </td>
                <td>
                    <li th:each="feeding : ${feedings}"
                        th:if="(${feeding.babyId} == ${baby.id})"

                        th:text="${feeding.feedingDate}">Date
                    </li>
                </td>
            </tr>
        </table>
    </div>


    <footer class="footer navbar-inverse navbar-fixed-bottom">
        <div class="container">
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4"><p class="text-muted">2020 Donatas Lunys</p></div>
            </div>
        </div>
    </footer>


    <h2>
        <div>
            <span id="hour"></span>
            <span>: </span>
            <span id="minute"></span>
            <span>: </span>
            <span id="seconds"></span>
        </div>


        <button id="start-btn">Start</button>
        <button id="stop-btn">Stop</button>
        <button id="reset-btn">Reset</button>
    </h2>


    <script>    window.onload = () => {
    let hour = 0;
    let minute = 0;
    let seconds = 0;
    let totalSeconds = 0;

    function startTimer() {
        ++totalSeconds;
        hour = Math.floor(totalSeconds /3600);
        minute = Math.floor((totalSeconds - hour*3600)/60);
        seconds = totalSeconds - (hour*3600 + minute*60);

        document.getElementById("hour").innerHTML =hour;
        document.getElementById("minute").innerHTML =minute;
        document.getElementById("seconds").innerHTML =seconds;
    }

    document.getElementById('start-btn').addEventListener('click', () => {
        intervalId = setInterval(startTimer, 1000);
    })

    document.getElementById('stop-btn').addEventListener('click', () => {
        if (intervalId)
            clearInterval(intervalId);
    });


    document.getElementById('reset-btn').addEventListener('click', () => {
        totalSeconds = 0;
        document.getElementById("hour").innerHTML = '0';
        document.getElementById("minute").innerHTML = '0';
        document.getElementById("seconds").innerHTML = '0';
    });
}


    </script>



<script></script>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/popper.min.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


<script type="text/javascript" src="/javatest.js"></script>
<script type="text/javascript" src="/choosetime.js"></script>

</body>
</html>